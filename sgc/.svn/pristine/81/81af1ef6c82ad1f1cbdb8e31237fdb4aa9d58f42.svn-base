$(document).ready(function () {
    $('#tableCatalogo').DataTable();
    $('#tableFamili').DataTable();
   $('#tablePba').DataTable();

//cambia el  valor de la etiqueta
    //document.getElementById('dolares').innerHTML = 'Dolares: $10,000.00!';
    //ocultar o mostrar BOTONES giro delito
    $("#guardar").prop("disabled", false);
    $("#actualizar").prop("disabled", true);
    $("#mostrarGD").click(function () {
        $("#guardar").prop("disabled", true);
        $("#actualizar").prop("disabled", false);
    });   
    //habilitar y desabilitar botones agregar familliar
    $("#AgregarF").click(function () {
        $("#GuardarF").css("display", "inline");
        $("#ActualizarF").prop("disabled", true);
    });
    $("#editarF").click(function () {
        $("#GuardarF").css("display", "none");
        $("#ActualizarF").prop("disabled", false);
    });
    //habilitar y desabilitar botones agregar pep
    $("#agregarPep").click(function () {
        $("#guardarPep").css("display", "inline");
        $("#actualizarPep").prop("disabled", true);
    });
    $("#mostrarPep").click(function () {
        $("#guardarPep").css("display", "none");
        $("#actualizarPep").prop("disabled", false);
    });
    //mostrar pba
    $("#agregarPba").click(function () {
        $("#guardarPba").css("display", "inline");
        $("#actualizarPba").prop("disabled", true);
    });
    $("#mostrarPba").click(function () {
        $("#guardarPba").css("display", "none");
        $("#actualizarPba").prop("disabled", false);
    });
    //pasar los datos de PLD
    $('#pasar').click(function () {
        return !$('#tramiteClientes option:selected').remove().appendTo('#tramiteClientesSeleccionados');
    });
    $('#quitar').click(function () {
        return !$('#tramiteClientesSeleccionados option:selected').remove().appendTo('#tramiteClientes');
    });
    $('#pasarTodo').click(function () {
        return !$('#tramiteClientes option').remove().appendTo('#tramiteClientesSeleccionados');
    });
    $('#quitarTodo').click(function () {
        return !$('#tramiteClientesSeleccionados option').remove().appendTo('#tramiteClientes');
    });

});
function verTablaF(){
   //ocultar o mostrar pantalla familiar
        $("#familiar").css("display", "block");
        $("#mostrarFamiliar").css("display","none");
}
function verTablaP(){
   //ver PEP
        $("#familiar").css("display", "none");
        $("#mostrarFamiliar").css("display","block");
}
function limpiarCajas() {
    $("#nombre").val("");
    $("#nombreG").val("");
    // Datos de un PBA
    $("#noEx").val("");
    $("#fechBus").val("");
    $("#curpPba").val("");
    $("#sexoPba").val("");
    $("#delitoPba").val("");
    $("#organizaciónPba").val("");
    $("#inforId").val("");
    $("#tituloPba").val("");
    $("#descripPba").val("");
    $("#paisPba").val("");
    $("#estatusPba").val("");
}
function mostratFam() {
    var tablaFam = $("#tableFamili").DataTable();
    $("#tableFamili tbody").on('click', 'tr', function () {
        var IdFamiliarT = $('td', this).eq(0).text().trim();
        $("#idfam").val(IdFamiliarT);
        var IdPepT = $('td', this).eq(1).text().trim();
        $("#idPep").val(IdPepT);
        var nomFamT = $('td', this).eq(3).text().trim();
        $("#nomFam").val(nomFamT);
        var apPatFamT = $('td', this).eq(4).text().trim();
        $("#apPatFam").val(apPatFamT);
        var apMatFamT = $('td', this).eq(5).text().trim();
        $("#apMatFam").val(apMatFamT);
        var curpFamT = $('td', this).eq(6).text().trim();
        $("#curpFam").val(curpFamT);
        var sexoFamT = $('td', this).eq(7).text().trim();
        $("#sexoFam").val(sexoFamT);
        var parentFamT = $('td', this).eq(9).text().trim();
        $("#parentescoFam").val(parentFamT);
    });
}
function mostrarGiDe() {
    var tablaCatalogo = $("#tableCatalogo").DataTable();
    $("#tableCatalogo tbody").on('click', 'tr', function () {
        var idT = $('td', this).eq(0).text();
        $("#delid").val(idT);
//id de giro
        var idgiT = $('td', this).eq(0).text();
        $("#idgiro").val(idgiT);
        //traer los nombres de los catalogos
        var nombreT = $('td', this).eq(1).text();
        $("#nombre").val(nombreT);
        var nombreGT = $('td', this).eq(1).text();
        $("#nombreG").val(nombreGT);
    });
}
function mostrarPBA(){
     //datos para PBA tablePba
        var tablaPba = $("#tablePba").DataTable();
        $("#tablePba tbody").on('click', 'tr', function () {
            //id de pba
            var idpbaT = $('td', this).eq(0).text();
            $("#idpba").val(idpbaT);
            var numExpT = $('td', this).eq(1).text();
            $("#noEx").val(numExpT);
            var fechBusT = $('td', this).eq(2).text().trim();
            $("#fechBus").val(fechBusT);
            var nomPbaT = $('td', this).eq(3).text();
            $("#nomPba").val(nomPbaT);
            //deshabilita la edicion del campo nombre
            $("#nomPba").prop("disabled", true);
            var apPbaT = $('td', this).eq(4).text();
            $("#apPat").val(apPbaT);
            $("#apPat").prop("disabled", true);
            var amPbaT = $('td', this).eq(5).text();
            $("#apMat").val(amPbaT);
            $("#apMat").prop("disabled", true);
            var curpT = $('td', this).eq(6).text();
            $("#curpPba").val(curpT);
            $("#curpPba").prop("disabled", true);
            var sexPbaT = $('td', this).eq(7).text().trim();
            $("#sexoPba").val(sexPbaT);
            var delitoPbaT = $('td', this).eq(9).text().trim();
            $("#delitoPba").val(delitoPbaT);
            var organizacionPbaT = $('td', this).eq(11).text().trim();
            $("#organizaciónPba").val(organizacionPbaT);
            var infoIdPbaT = $('td', this).eq(13).text().trim();
            $("#inforId").val(infoIdPbaT);
            var informacionPbaT = $('td', this).eq(14).text();
            $("#tituloPba").val(informacionPbaT);
            var infoDescrPbaT = $('td', this).eq(15).text();
            $("#descripPba").val(infoDescrPbaT);
            var paisT = $('td', this).eq(16).text().trim();
            $("#paisPba").val(paisT);
            var estaPbaT = $('td', this).eq(18).text().trim();
            $("#estatusPba").val(estaPbaT);
        });
}
function mostrarNombre() {
    //al dar clic lo que tiene en el renglo lo pase a la caja de texto
    var tablaCatalogo = $("#tableCatalogo").DataTable();
    $("#tableCatalogo tbody").on('click', 'tr', function () {
//id de usuario
        var idusuariT = $('td', this).eq(0).text();
        $("#idusuario").val(idusuariT);
        
//Trae los nombres de tabla usuario
        var nombreuserT = $('td', this).eq(1).text();
        $("#nick").val(nombreuserT);
        var passuserT = $('td', this).eq(2).text();
        $("#pass").val(passuserT);
        var emailuserT = $('td', this).eq(3).text();
        $("#email").val(emailuserT);
        var roluserT = $('td', this).eq(4).text();
        $("#roluser").val(roluserT);
        var estatusT = $('td', this).eq(6).text();
        $("#estatususer").val(estatusT);
        var nombreT = $('td', this).eq(8).text();
        $("#name").val(nombreT);
        var apaternoT = $('td', this).eq(9).text();
        $("#apaterno").val(apaternoT);
        var amaternoT = $('td', this).eq(10).text();
        $("#amaterno").val(amaternoT);
        var curpT = $('td', this).eq(11).text();
        $("#curp").val(curpT);
        var sexoT = $('td', this).eq(12).text().trim();
        $("#sexuser").val(sexoT);
        var tiptelT = $('td', this).eq(14).text();
        $("#tipTel").val(tiptelT);
        var idtelT = $('td', this).eq(16).text();
        $("#idtel").val(idtelT);
        var numtelT = $('td', this).eq(17).text();
        $("#numtel").val(numtelT);
        //segunfo tel 
        var tiptelT2 = $('td', this).eq(18).text();
        $("#tipTel2").val(tiptelT2);
        var idtelT2 = $('td', this).eq(20).text();
        $("#idtel2").val(idtelT2);
        var numtelT2 = $('td', this).eq(21).text();
        $("#numtel2").val(numtelT2);

    });
}
function mostrarPEP(){
     var tablaCatalogo = $("#tableCatalogo").DataTable();
    $("#tableCatalogo tbody").on('click', 'tr', function () {
      //idpep
        var idpepT = $('td', this).eq(0).text();
        $("#idpep").val(idpepT);
//PEP
        var fechaVigenteT = $('td', this).eq(1).text().trim();
        $("#fechPep").val(fechaVigenteT);
        var cargoT = $('td', this).eq(2).text().trim();
        $("#cargoPep").val(cargoT);
        var ciudadT = $('td', this).eq(4).text().trim();
        $("#ciudadPep").val(ciudadT);
        var nomT = $('td', this).eq(6).text().trim();
        $("#nomPep").val(nomT);
        var apPepT = $('td', this).eq(7).text().trim();
        $("#apPatPep").val(apPepT);
        var amPepT = $('td', this).eq(8).text().trim();
        $("#apMatPep").val(amPepT);
        var curpPepT = $('td', this).eq(9).text().trim();
        $("#curpPep").val(curpPepT);
        var sexPepT = $('td', this).eq(10).text().trim();
        $("#sexoPep").val(sexPepT);
        var estatPepT = $('td', this).eq(12).text().trim();
        $("#estatusPep").val(estatPepT);
    });
}

function agregarDelito() {
    var nombre = $("#nombre").val();
    if (nombre == '') {
        alert("El delito no puede ir vacío");
        return;
    }
    var datos = [nombre];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "delito/agregarDelito",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("delito");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }
    });
}
function actualizarDelito() {
    var id = $("#delid").val();
    var nombre = $("#nombre").val();
    if ((nombre = '') && (id = '')) {
        alert("El delito no puede ir vació");
        return;
    }
    var datos = [id, nombre];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "delito/actualizarDelito",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("delito");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }

    });

}
function eliminarDelito() {
    var tablaDelito = $("#tableCatalogo").DataTable();
    $("#tableCatalogo tbody").on('click', 'tr', function () {
        var idT = $('td', this).eq(0).text();
        $("#iddelito").val(idT);
        var id = $("#iddelito").val();
        if (id == '') {
            alert("El delito no puede ir vació");
            return;
        }
        var datos = [id];
        $(document).ajaxSend(function (e, xhr, options) {
            var token = $("input[name='_csrf']").val();
            var cabecera = "X-CSRF-TOKEN";
            xhr.setRequestHeader(cabecera, token);
        });

        $.ajax({
            url: "delito/eliminarDelito",
            data: {datos: datos},
            dataType: 'html',
            type: 'POST',
            success: function (retorno) {
                //alert(retorno);
                switch (retorno) {
                    case 'errorDato':
                        alert("Los datos no se procesaron correctamente");
                        break;
                    case 'error':
                        alert("Se ha producido un error en el servidor");
                        break;
                    case 'exito':
                        //carga lo que se indica en id DIV
                        $("#pantalla").load("delito");
                        break;
                    case 'errorAcceso':
                        alert("No ha iniciado sesion");
                        break;
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {
                alert("Se ha producido un error en el servidor");
            }
        });

    });

}
function agregarGiro() {
    var nombre = $("#nombre").val();
    if (nombre == '') {
        alert("El giro no puede ir vacío");
        return;
    }
    var datos = [nombre];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "giro/agregarGiro",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("giro");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }

    });
}
function actualizarGiro() {
    var id = $("#idgiro").val();
    var nombre = $("#nombre").val();
    if (nombre == '') {
        alert("El giro no puede ir vació");
        return;
    }
    var datos = [id, nombre];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "giro/actualizarGiro",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("giro");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }
    });
}
function eliminarGiro() {
    var tablaDelito = $("#tableCatalogo").DataTable();
    $("#tableCatalogo tbody").on('click', 'tr', function () {
        var idT = $('td', this).eq(0).text();
        $("#idgiro").val(idT);
        var id = $("#idgiro").val();
        if (id == '') {
            alert("El giro no puede ir vació");
            return;
        }
        var datos = [id];
        $(document).ajaxSend(function (e, xhr, options) {
            var token = $("input[name='_csrf']").val();
            var cabecera = "X-CSRF-TOKEN";
            xhr.setRequestHeader(cabecera, token);
        });

        $.ajax({
            url: "giro/eliminarGiro",
            data: {datos: datos},
            dataType: 'html',
            type: 'POST',
            success: function (retorno) {
                //alert(retorno);
                switch (retorno) {
                    case 'errorDato':
                        alert("Los datos no se procesaron correctamente");
                        break;
                    case 'error':
                        alert("Se ha producido un error en el servidor");
                        break;
                    case 'exito':
                        //carga lo que se indica en id DIV
                        $("#pantalla").load("giro");
                        break;
                    case 'errorAcceso':
                        alert("No ha iniciado sesion");
                        break;
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {
                alert("Se ha producido un error en el servidor");
            }
        });

    });
}
function agregarUsuario() {
    var nick = $("#nick").val();
    var pass = $("#pass").val();
    var email = $("#email").val();
    var rol = $("#roluser").val();
    var estatus = $("#estatususer").val();
    var nombre = $("#name").val();
    var apaterno = $("#apaterno").val();
    var amaterno = $("#amaterno").val();
    var curp = $("#curp").val();
    var sexo = $("#sexuser").val();
    var tipTel = $("#tipTel").val();
    var tel = $("#numtel").val();

    if (nick == '' || pass == '' || email == '' || nombre == '' || apaterno == '' || amaterno == '' || curp == '' || tel == '') {
        alert("El usuario no puede ir vacío");
        return;
    }
    if (rol == 0) {
        alert("Deseleccionar una opcion");
        return;
    }
    if (estatus == 0) {
        alert("Deseleccionar una opcion");
        return;
    }
    if (sexo == 0) {
        alert("Deseleccionar una opcion");
        return;
    }
    if (tipTel == 0) {
        alert("Deseleccionar una opcion");
        return;
    }
    var datos = [nick, pass, email, rol, estatus, nombre, apaterno, amaterno, curp, sexo, tipTel, tel];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "usuario/agregarUsuario",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("usuario");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }

    });
}
function actualizarUsuario() {
    var id = $("#idusuario").val();
    var nick = $("#nick").val();
    var pass = $("#pass").val();
    var email = $("#email").val();
    var rol = $("#roluser").val();
    var estatus = $("#estatususer").val();
    var nombre = $("#name").val();
    var apaterno = $("#apaterno").val();
    var amaterno = $("#amaterno").val();
    var curp = $("#curp").val();
    var sexo = $("#sexuser").val();
    var tipTel = $("#tipTel").val();
    var IDtel = $("#idtel").val();
    var tel = $("#numtel").val();
    var tiptel2 = $("#tipTel2").val();
    var idtel2 = $("#idtel2").val();
    var numtel2 = $("#numtel2").val();

    if (nick == '' || pass == '' || email == '' || nombre == '' || apaterno == '' || amaterno == '' || curp == '' || IDtel == '' || tel == '' || idtel2 == '' || numtel2 == '') {
        alert("El usuario no puede ir vacío");
        return;
    }
    if (rol == 0) {
        alert("Deseleccionar una opcion");
        return;
    }
    if (estatus == 0) {
        alert("Deseleccionar una opcion");
        return;
    }
    if (sexo == 0) {
        alert("Deseleccionar una opcion");
        return;
    }
    if (tipTel == 0) {
        alert("Deseleccionar una opcion");
        return;
    }
    if (tiptel2 == 0) {
        alert("Deseleccionar una opcion");
        return;
    }
    var datos = [nick, pass, email, rol, estatus, id, nombre, apaterno, amaterno, curp, sexo, tipTel, IDtel, tel, tiptel2, idtel2, numtel2];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "usuario/actualizarUsuario",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("usuario");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }
    });
}
function eliminarUsuario() {
    var tablaUsuario = $("#tableCatalogo").DataTable();
    $("#tableCatalogo tbody").on('click', 'tr', function () {
        var idT = $('td', this).eq(0).text();
        $("#iduser").val(idT);
        var id = $("#iduser").val();
        if (id == '') {
            alert("El user no puede ir vació");
            return;
        }
        var datos = [id];
        $(document).ajaxSend(function (e, xhr, options) {
            var token = $("input[name='_csrf']").val();
            var cabecera = "X-CSRF-TOKEN";
            xhr.setRequestHeader(cabecera, token);
        });

        $.ajax({
            url: "usuario/eliminarUsuario",
            data: {datos: datos},
            dataType: 'html',
            type: 'POST',
            success: function (retorno) {
                //alert(retorno);
                switch (retorno) {
                    case 'errorDato':
                        alert("Los datos no se procesaron correctamente");
                        break;
                    case 'error':
                        alert("Se ha producido un error en el servidor");
                        break;
                    case 'exito':
                        //carga lo que se indica en id DIV
                        $("#pantalla").load("usuario");
                        break;
                    case 'errorAcceso':
                        alert("No ha iniciado sesion");
                        break;
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {
                alert("Se ha producido un error en el servidor");
            }
        });

    });
}
function agregarPba() {
    var noEx = $("#noEx").val();
    var fechBus = $("#fechBus").val();
    var nomPba = $("#nomPba").val();
    var apPba = $("#apPat").val();
    var amPba = $("#apMat").val();
    var curp = $("#curpPba").val();
    var sexoPba = $("#sexoPba").val();
    var delitoPba = $("#delitoPba").val();
    var organizacionPba = $("#organizaciónPba").val();
    var tituloPba = $("#tituloPba").val();
    var descripcionPba = $("#descripPba").val();
    var pais = $("#paisPba").val();
    var estatusPba = $("#estatusPba").val();

    if (noEx.isEmpty) {
        alert("El nuemro de expediente no puede ir vacío");
        return;
    }
    if (fechBus.isEmpty || nomPba.isEmpty || apPba.isEmpty || amPba.isEmpty || curp.isEmpty || sexoPba.isEmpty || delitoPba.isEmpty || organizacionPba.isEmpty) {
        alert("El numero de expediente no puede ir vacío");
        return;
    }
    var datos = [noEx, fechBus, nomPba, apPba, amPba, curp, sexoPba, delitoPba, organizacionPba, tituloPba, descripcionPba, pais, estatusPba];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "pba/agregarPba",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("pba");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }
    });
}
//actualizar PBA
function actualizarPba() {
    var idPba = $("#idpba").val();
    var noEx = $("#noEx").val();
    var fechBus = $("#fechBus").val();
    var nomPba = $("#nomPba").val();
    var apPba = $("#apPat").val();
    var amPba = $("#apMat").val();
    var curp = $("#curpPba").val();
    var sexoPba = $("#sexoPba").val();
    var delitoPba = $("#delitoPba").val();
    var organizacionPba = $("#organizaciónPba").val();
    var infoIdPba = $("#inforId").val();
    var tituloPba = $("#tituloPba").val();
    var descripcionPba = $("#descripPba").val();
    var pais = $("#paisPba").val();

    var estatusPba = $("#estatusPba").val();

    if (noEx.isEmpty) {
        alert("El nuemro de expediente no puede ir vacío");
        return;
    }
    if (fechBus.isEmpty || nomPba.isEmpty || apPba.isEmpty || amPba.isEmpty || curp.isEmpty || sexoPba.isEmpty || delitoPba.isEmpty || organizacionPba.isEmpty) {
        alert("El numero de expediente no puede ir vacío");
        return;
    }
    var datos = [noEx, fechBus, nomPba, apPba, amPba, curp, sexoPba, delitoPba,
        organizacionPba, tituloPba, descripcionPba, pais, idPba, infoIdPba, estatusPba];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "pba/actualizarPba",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("pba");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }
    });
}
//tomar el valor de quien se loguea 
function menu() {
    var user = $("#nick").val()
    if (user == 'user') {
        $("#conusu").prop('disabled', true);
    }
    alert("NO es usuario tipo user");
}
function agregarPep() {
    var fechaVigenteT = $("#fechPep").val();
    var cargoT = $("#cargoPep").val();
    var ciudadT = $("#ciudadPep").val();
    var nomT = $("#nomPep").val();
    var apPepT = $("#apPatPep").val();
    var amPepT = $("#apMatPep").val();
    var curpPepT = $("#curpPep").val();
    var sexPepT = $("#sexoPep").val();
    var estatPepT = $("#estatusPep").val();

    var datos = [fechaVigenteT, cargoT, ciudadT, nomT, apPepT, amPepT, curpPepT, sexPepT, estatPepT];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "pep/agregarPep",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("pep");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }
    });
}
function actualizarPep() {
    var IDpep = $("#idpep").val();
    var fechaVigenteT = $("#fechPep").val();
    var cargoT = $("#cargoPep").val();
    var ciudadT = $("#ciudadPep").val();
    var nomT = $("#nomPep").val();
    var apPepT = $("#apPatPep").val();
    var amPepT = $("#apMatPep").val();
    var curpPepT = $("#curpPep").val();
    var sexPepT = $("#sexoPep").val();
    var estatPepT = $("#estatusPep").val();

    var datos = [fechaVigenteT, cargoT, ciudadT, nomT, apPepT, amPepT, curpPepT, sexPepT, estatPepT, IDpep];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "pep/actualizarPep",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("pep");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }
    });
}
function agregarFamiliar() {

    var IdPep = $("#idPep").val();
    var nomFam = $("#nomFam").val();
    var apPatFam = $("#apPatFam").val();
    var apMatFam = $("#apMatFam").val();
    var curpFam = $("#curpFam").val();
    var sexoFam = $("#sexoFam").val();
    var parentFam = $("#parentescoFam").val();

    var datos = [IdPep, nomFam, apPatFam, apMatFam, curpFam, sexoFam, parentFam];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "pep/agregarFamiliar",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("pep");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }
    });
}
function actualizarFamiliar() {
    var IdFamiliar = $("#idfam").val();
    var IdPep = $("#idPep").val();
    var nomFam = $("#nomFam").val();
    var apPatFam = $("#apPatFam").val();
    var apMatFam = $("#apMatFam").val();
    var curpFam = $("#curpFam").val();
    var sexoFam = $("#sexoFam").val();
    var parentFam = $("#parentescoFam").val();

    var datos = [IdPep, nomFam, apPatFam, apMatFam, curpFam, sexoFam, parentFam, IdFamiliar];
    $(document).ajaxSend(function (e, xhr, options) {
        var token = $("input[name='_csrf']").val();
        var cabecera = "X-CSRF-TOKEN";
        xhr.setRequestHeader(cabecera, token);
    });
    $.ajax({
        url: "pep/actualizarFamiliar",
        data: {datos: datos},
        dataType: 'html',
        type: 'POST',
        success: function (retorno) {
            //alert(retorno);
            switch (retorno) {
                case 'errorDato':
                    alert("Los datos no se procesaron correctamente");
                    break;
                case 'error':
                    alert("Se ha producido un error en el servidor");
                    break;
                case 'exito':
                    //carga lo que se indica en id DIV
                    $("#pantalla").load("pep");
                    break;
                case 'errorAcceso':
                    alert("No ha iniciado sesion");
                    break;
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert("Se ha producido un error en el servidor");
        }
    });
}
function eliminarFamiliar() {
    var tablaUsuario = $("#tableFamili").DataTable();
    $("#tableFamili tbody").on('click', 'tr', function () {
        var idT = $('td', this).eq(0).text();
        $("#idfam").val(idT);
        var id = $("#idfam").val();
        if (id == '') {
            alert("El user no puede ir vació");
            return;
        }
        var datos = [id];
        $(document).ajaxSend(function (e, xhr, options) {
            var token = $("input[name='_csrf']").val();
            var cabecera = "X-CSRF-TOKEN";
            xhr.setRequestHeader(cabecera, token);
        });
        $.ajax({
            url: "pep/eliminarFamiliar",
            data: {datos: datos},
            dataType: 'html',
            type: 'POST',
            success: function (retorno) {
                //alert(retorno);
                switch (retorno) {
                    case 'errorDato':
                        alert("Los datos no se procesaron correctamente");
                        break;
                    case 'error':
                        alert("Se ha producido un error en el servidor");
                        break;
                    case 'exito':
                        //carga lo que se indica en id DIV
                        $("#pantalla").load("pep");
                        break;
                    case 'errorAcceso':
                        alert("No ha iniciado sesion");
                        break;
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {
                alert("Se ha producido un error en el servidor");
            }
        });
    });
}
function generarReportePLD() {

    $("#tramiteClientesSeleccionados option").each(function () {
        var datos = [];
        datos[$(this).attr('value')] = $(this).text();
        document.getElementById('nombrePLD').innerHTML = datos;

        alert('opcion: ' + datos);
    });


}
