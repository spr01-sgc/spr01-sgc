<%-- 
    Document   : envios
    Created on : 24/11/2017, 09:29:50 AM
    Author     : LUIS-SOMA
--%>
<%@include file="index.jsp" %>
<br />
<div class="contenedor2">
    <div id="pasos" class="contenedor" style="display: block">
        <div id="paso1" class="secciones2 border-div"><p><h4>1 Datos de Envío</h4></p></div>
        <div id="paso2" class="secciones2 border-div"><p><h4>2 Remitente y Beneficiario</h4></p></div>
        <div id="paso3" class="secciones2 border-div"><p><h4>3 Confirmar Datos</h4></p></div>
        <div id="paso4" class="secciones2 border-div"><p><h4>4 Imprimir Recibo</h4></p></div>
        <br />
    </div>
    <div class="padre">
        <div class="hijo">
            <div class="panel-group col-md-12">
                <div class="panel">
                    <div class="panel-heading" id="encabezadoForm">
                        <h4 class="color-letra">Transferencia de envios</h4>
                    </div>
                    <div id="contenidoPantalla" class="panel-body gris-claro"> 
                        <div class="row"> 

                            <div class="modal-body">
                                <!--Formilario para agregar un pago -->
                                <form class="form-horizontal">
                                    <input type="hidden" name="${_csrf.parameterName}"
                                           value="${_csrf.token}" />                           
                                    <!--FORMULARIO QUE REGISTRA LOS DETOS DE LA REMESA-->
                                    <div id="datosenvio" >
                                        <div class=" panel panel-group">
                                            <div class="form-group">
                                                <label class="control-label col-lg-1"></label>
                                                <label class="control-label div-azul"> <h4>DATOS DE LA REMESA</h4></label>
                                            </div>                            
                                            <div class="form-group">
                                                <label class="control-label col-lg-10"> <h6>Fecha: </h6></label>
                                                <label class="control-label col-lg-1" id="fecha"></label>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-lg-2"> <h5>Enviado por: </h5></label>
                                                <label class="control-label" id="nombreSucursalEnvia"></label>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-lg-2"> <h6>Pais: </h6></label>
                                                <label class="control-label col-lg-1" id="paisOrigen"></label>
                                                <label class="control-label col-lg-2"> <h6>Estado:</h6></label>
                                                <label class="control-label col-lg-1" id="estadoOrigen"></label>
                                                <label class="control-label col-lg-2"> <h6>Ciudad:</h6></label>
                                                <label class="control-label col-lg-3" id="ciudadOrigen"></label>
                                            </div>
                                        </div>
                                        <br /><br /><br />
                                        <div class="form-group">
                                            <label class="control-label col-lg-2" for="cantidadenviada"><h5>Monto a enviar:</h5></label>
                                            <div class="col-sm-3">
                                                <input type="number" class="form-control" id="cantidadenviada">
                                            </div>

                                            <label class="control-label col-lg-3" for="tipomoneda"><h5>Tipo de moneda:</h5></label>
                                            <div class="col-sm-3">
                                                <!-- consulta catalogo -->
                                                <SELECT id="tipomoneda" class="form-control">
                                                    <option value="0">Seleccionar...</option>
                                                    <c:forEach items="${lModendaDivisa}" var="tipo">
                                                        <OPTION value="${tipo.monedadivisaid}">${tipo.nombremoneda}</OPTION>
                                                        </c:forEach>
                                                </SELECT>
                                            </div>

                                        </div>

                                        <div class="form-group">      
                                            <div class="oculto">
                                                <label for="instrumentomonetario" class="col-lg-2 control-label">Instrumento monetario</label>
                                                <div class="col-lg-2">
                                                    <SELECT id="instrumentomonetario" class="form-control">
                                                        <option value="0">Seleccionar...</option>
                                                        <c:forEach items="${lInstrumentoMonetario}" var="instrumento">
                                                            <OPTION value="${instrumento.instmonetarioid}">${instrumento.nombre}</OPTION>
                                                            </c:forEach>
                                                    </SELECT>
                                                </div>
                                            </div>
                                            <div class="oculto">
                                                <label class="control-label col-lg-2" for="tiposervicio">Tipo servicio</label>
                                                <div class="col-sm-2">
                                                    <SELECT id="tiposervicio" class="form-control">
                                                        <option value="0">Seleccionar...</option>
                                                        <c:forEach items="${lTipoServicio}" var="tipo">
                                                            <OPTION value="${tipo.tiposervicioid}">${tipo.descripcion}</OPTION>
                                                            </c:forEach>
                                                    </SELECT>
                                                </div>
                                            </div>
                                            <label class="control-label col-lg-2" for="valormoneda"><h5>Valor moneda:</h5></label>
                                            <div class="col-sm-3">
                                                <input type="button" class="form-control" id="valormoneda" placeholder="" disabled="true" value="18.6196">
                                            </div>
                                            <label for="comisionporpago" class="col-lg-3 control-label"><h5>Comisi&oacute;n por pago:</h5></label>
                                            <div class="col-sm-3">
                                                <input type="number" class="form-control" id="comisionPago">
                                            </div>
                                        </div> 
                                        <div class="form-group">
                                            <label class="control-label col-lg-9" ></label> 
                                            <input type="button" value="Calcular cargos"  class="estilobtn gris" onclick="calculaCargos();">
                                        </div>
                                        <!-- DIV QUE MUESTRA LOS DATOS DE COBRO-->
                                        <div id="datosCobroDiv" style="display:none">
                                            <br /><br />
                                            <div class="form-group">
                                                <label class="control-label col-lg-1"></label>
                                                <label class="control-label div-azul"> <h4>CARGOS DE ENVIO</h4></label>
                                            </div> 
                                            <div class="panel panel-group">
                                                <hr/>
                                                <div class="form-group">
                                                    <label class="control-label col-lg-2"> <h5>Monto enviado: </h5></label>
                                                    <label class="control-label col-lg-7" id="montoEnviado"></label>
                                                    <label class="control-label col-lg-2" id="nomMoneda1"></label>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-lg-2"> <h5>Comisi&oacute;n:</h5></label>
                                                    <label class="control-label col-lg-7" id="comision"></label>
                                                    <label class="control-label col-lg-2" id="nomMoneda2"></label>
                                                </div>
                                                <hr/>
                                                <div class="form-group">
                                                    <label class="control-label col-lg-8"> <h5>Total:</h5></label>
                                                    <label class="control-label col-lg-1" id="total"></label>
                                                    <label class="control-label col-lg-2" id="nomMoneda3"></label>
                                                </div>
                                            </div>
                                            <br />
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-10" ></label> 
                                            <input id="btnDatosRemesa" type="button" value="Siguiente"  class="estilobtn gris" onclick="datosPersona();" disabled>
                                        </div>
                                    </div>

                                    <!--DIV CONTENEDOR EN EL CUAL SE SELECCIONA EL TIPO DE PERSONA FÍSICA O MORAL-->
                                    <div id="verificaPersona" style="display:none">
                                        <div class="panel panel-group">
                                            <div class="form-group">
                                                <label class="control-label col-lg-1"></label>
                                                <label class="control-label div-azul"> <h4>TIPO DE PERSONA</h4></label>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-lg-3"></label>
                                                <label class="control-label col-md-2" for="personamoral">Persona Moral</label>
                                                <div class="checkbox col-sm-1">
                                                    <input type="checkbox" id="personamoral" onclick="selectTipopersona(1);" disabled="true">
                                                </div>
                                                <label class="control-label col-md-2" for="personafisica">Persona Física</label>
                                                <div class="checkbox col-sm-1">
                                                    <input type="checkbox" id="personafisica" onclick="selectTipopersona(2);" >
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="form-group">
                                            <label class="control-label col-lg-9" ></label> 
                                            <input type="button" value="Atras" class="estilobtn gris" onclick="datosEnvio();">
                                            <input type="button" value="Siguiente" class="estilobtn gris" onclick="datosBeneficiario();">
                                        </div>
                                    </div>
                                    <!--FORMULARIO QUE REGISTRA LA INFORMACIÓN DE UN PERSONA FÍSICA -->
                                    <%@include file="frmPersonaFisica.jsp"%>
                                    <!--FORMULARIO QUE REGISTRA LA INFORMACIÓN DE UNA PERSONA MORAL-->
                                    <div id="divpersonamoral" style="display:none">
                                        <div class="form-group">
                                            <label class="control-label col-lg-7" for="datosPersona"><h4>Datos persona que envía</h4></label>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-10" for="NoClienteMoral">No. Cliente</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="noClienteMoral" onchange="detectaCambio('noClienteMoral');" placeholder="No. Cliente">
                                            </div>
                                            <label class="control-label col-lg-10"></label>
                                            <div  id="buscaOtroClienteM" style="display:none">
                                                <label class="control-label col-lg-2" onclick="buscarOtroCliente();">
                                                    <h6 class="cambiarColor">Buscar otro cliente</h6></label>
                                            </div>
                                        </div> 
                                        <div class="form-group">
                                            <label class="control-label col-lg-2" for="nombremoral">Nombre</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="nombremoral" placeholder="Nombre">
                                            </div>
                                            <label class="control-label col-lg-2" for="apaternomoral">Apellido paterno</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="apaternomoral" placeholder="Paterno">
                                            </div>
                                            <label class="control-label col-lg-2" for="amaternomoral">Apellido materno</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="amaternomoral" placeholder="Materno">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-2" for="curpmoral">CURP</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="curpmoral" placeholder="CURP">
                                            </div>
                                            <label class="control-label col-lg-2" for="sexomoral">Sexo</label>
                                            <div class="col-sm-2">
                                                <!-- consulta catalogo -->
                                                <SELECT id="sexomoral" class="form-control">
                                                    <option value="0">Seleccionar...</option>
                                                    <c:forEach items="${lSexo}" var="sexo">
                                                        <OPTION value="${sexo.sexoid}">${sexo.descripcion}</OPTION>
                                                        </c:forEach>
                                                </SELECT>
                                            </div>
                                            <label class="control-label col-lg-2" for="emailmoral">Email</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="emailmoral" placeholder="ejemplo123@gmail.com">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-2" for="RFC">RFC</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="rfcmoral" placeholder="RFC">
                                            </div>
                                            <label class="control-label col-lg-2" for="calleMoral">Calle y número</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="callemoral" placeholder="calle">
                                            </div>
                                            <label class="control-label col-lg-2" for="coloniamoral">Colonia</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="coloniamoral" placeholder="Colonia">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-2" for="cp">C.P.</label>
                                            <div class="col-sm-2">
                                                <!-- consulta catalogo -->
                                                <SELECT id="cpmoral" class="form-control">
                                                    <option value="0">Seleccionar...</option>
                                                    <c:forEach items="${lCodigoPostal}" var="cp">
                                                        <OPTION value="${cp.codigopostalid}">${cp.clave}</OPTION>
                                                        </c:forEach>
                                                </SELECT>
                                            </div>
                                            <label class="control-label col-lg-2" for="razonsocial">Razón social</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="razonsocial" placeholder="Razón Social">
                                            </div>
                                            <label class="control-label col-lg-2" for="fechaConstitucion">Fecha constitución</label>
                                            <div class="col-sm-2">
                                                <input type="date" class="form-control" id="fechaConstitucion" placeholder="">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-2" for="NoFirmaAvanzada">No. Firma Avanzada</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="nofirmaavanzada" placeholder="Firma avanzada">
                                            </div>
                                            <label class="control-label col-lg-2" for="giro">Giro</label>
                                            <div class="col-sm-2">
                                                <SELECT id="giroC" class="form-control">
                                                    <option value="0">Seleccionar...</option>
                                                    <c:forEach items="${lGiro}" var="gir">
                                                        <OPTION value="${gir.giroid}">${gir.nombre}</OPTION>
                                                        </c:forEach>
                                                </SELECT>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-2" for="calle">Télefono</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" id="telefonopersonamoral" placeholder="Telefono"> 
                                            </div>
                                            <label class="control-label col-lg-2" for="tipotelefono">Tipo</label>
                                            <div class="col-sm-2">
                                                <!-- consulta catalogo -->
                                                <SELECT id="tipotelefonopersonamoral" class="form-control">
                                                    <option value="0">Seleccionar...</option>
                                                    <c:forEach items="${lTipoTelefono}" var="tipo">
                                                        <OPTION value="${tipo.tipoid}">${tipo.tipotelefono}</OPTION>
                                                        </c:forEach>
                                                </SELECT>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-10" ></label> 
                                            <input type="button" value="Atras" onclick="datosEnvio();">
                                            <input type="button" value="Siguiente" onclick="datosBeneficiario();">
                                        </div>
                                    </div>
                                    <!--FORMULARIO PARA LLENAR DATOS DE UN BENEFICIARIO A ENVIAR UNA REMESA/PAGO -->
                                    <div id="beneficiario" style="display:none">                                    
                                        <%@include file="tblBeneficiarios.jsp" %>
                                        <br /><br />
                                        <div class="form-group" style="display:none">
                                            <label class="control-label col-lg-3"><h5>ID:</h5></label>
                                            <div class="col-sm-3">
                                                <input type="number" class="form-control" id="idBeneficiario" onkeyup="mayuscula(this);" > 
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-7"><h4>Beneficiario</h4></label>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-3"><h5>Nombre:</h5></label>
                                            <div class="col-sm-3">
                                                <input type="text" class="form-control" id="nombrebene" onkeyup="mayuscula(this);"> 
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-3"><h5>Apellido Paterno:</h5></label>
                                            <div class="col-sm-3">
                                                <input type="text" class="form-control" id="apaternobene" onkeyup="mayuscula(this);"> 
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-3"><h5>Apellido Materno:</h5></label>
                                            <div class="col-sm-3">
                                                <input type="text" class="form-control" id="amaternobene" onkeyup="mayuscula(this);"> 
                                            </div>
                                            <label class="control-label col-lg-2"><h5>Sexo:</h5></label>
                                            <div class="col-sm-3">
                                                <!-- consulta catalogo -->
                                                <SELECT id="sexobene" class="form-control">
                                                    <option value="0">Seleccionar...</option>
                                                    <c:forEach items="${lSexo}" var="sexo">
                                                        <OPTION value="${sexo.sexoid}">${sexo.descripcion}</OPTION>
                                                        </c:forEach>
                                                </SELECT>
                                            </div>

                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-lg-3"><h5>Teléfono:</h5></label>
                                            <div class="col-sm-3">
                                                <input type="number" class="form-control" id="telBeneficiario"> 
                                            </div> 
                                            <label class="control-label col-lg-2"><h5>Tipo Telefono:</h5></label>
                                            <div class="col-sm-3">
                                                <!-- consulta catalogo -->
                                                <SELECT id="tipoTelBeneficiario" class="form-control">
                                                    <option value="0">Seleccionar...</option>
                                                    <c:forEach items="${lTipoTelefono}" var="tipo">
                                                        <OPTION value="${tipo.tipoid}">${tipo.tipotelefono}</OPTION>
                                                        </c:forEach>
                                                </SELECT>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="form-group">
                                            <label class="control-label col-lg-9" ></label> 
                                            <input type="button" value="Atras" class="estilobtn gris" onclick="datosAtrasPersona();">
                                            <input type="button" value="Siguiente" class="estilobtn gris" onclick="datosRemesarodaPaga();">
                                            <!-- <button id="envio" class="btn btn-success" onclick="registrarEnvio();">Registrar Envió</button>-->
                                        </div>
                                    </div>
                                    <!--DIV que contiene la información de la remesadora pagadora -->
                                    <div id="datosRemesadoraPaga" style="display: none">
                                        <div class="panel panel-group">
                                            <div class="form-group">
                                                <label class="control-label col-lg-1"></label>
                                                <label class="control-label div-azul"> <h4>DATOS DEL PAGADOR</h4></label>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-lg-2" for="destino">Destino</label>
                                                <div class="col-sm-4">
                                                    <!-- consulta catalogo -->
                                                    <SELECT id="destino" class="form-control" onchange="datosRemesadoraPagadora();">
                                                        <option value="0">SELECCIONAR...</option>
                                                        <c:forEach items="${lCiudad}" var="ciudad">
                                                            <OPTION value="${ciudad.ciudadid}">${ciudad.nombre}</OPTION>
                                                            </c:forEach>
                                                    </SELECT>
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <br />
                                        <div id="datosSucursal" style="display: none">
                                            <div class="form-group">
                                                <label class="control-label col-lg-1"></label>
                                                <label class="control-label div-azul"> <h4>Sucursales donde se puede cobrar</h4></label>
                                            </div>
                                        </div>
                                        <br /><br />
                                        <div class="form-group">
                                            <label class="control-label col-lg-9" ></label> 
                                            <input type="button" value="Atras" class="estilobtn gris" onclick="datosAtrasBeneficiario();">
                                            <input type="button" value="Siguiente" class="estilobtn gris" onclick="datosEnvioFinales();">
                                            <!-- <button id="envio" class="btn btn-success" onclick="registrarEnvio();">Registrar Envió</button>-->
                                        </div>
                                    </div>
                                    <!--DATOS FINALES DEL ENVIO -->

                                    <div class="contenedor2" id="datosFinalesEnvio" style="display: none">
                                        <div class="panel panel-body">
                                            <!--DATOS REMITENTE -->
                                            <div class="contenedor2">
                                                <div class="fondo-azul">
                                                    <label class="control-label"><h5>DATOS DE LA REMESA</h5></label>
                                                </div>
                                                <div class="form-group">
                                                     <label class="control-label col-lg-1"></label>
                                                    <label class="control-label div-azul"> <h5>Datos del remitente</h5></label>
                                                </div>      
                                                <hr/>
                                                <div class="form-group"> 
                                                    <label class="control-label col-lg-2"> <h5>Nombre: </h5></label>
                                                    <label class="control-label col-lg-3" id="nombreRemitente"></label>
                                                    <label class="control-label col-lg-2"> <h5>Apellidos: </h5></label>
                                                    <label class="control-label col-lg-3" id="apelldiosRemitente"></label>
                                                </div>
                                                <div class="form-group"> 
                                                    <label class="control-label col-lg-2"> <h5>Direcci&oacute;n: </h5></label>
                                                    <label class="control-label col-lg-3" id="direccionRemitente"></label>
                                                    <label class="control-label col-lg-2"> <h5>Colonia: </h5></label>
                                                    <label class="control-label col-lg-3" id="coloniaRemitente"></label>
                                                </div>
                                                <div class="form-group"> 
                                                    <label class="control-label col-lg-2"> <h5>Ciudad: </h5></label>
                                                    <label class="control-label col-lg-3" id="ciudadRemitente"></label>
                                                    <label class="control-label col-lg-2"> <h5>Estado: </h5></label>
                                                    <label class="control-label col-lg-3" id="estadoRemitente2"></label>
                                                </div>
                                                <div class="form-group"> 
                                                    <label class="control-label col-lg-2"> <h5>Pais: </h5></label>
                                                    <label class="control-label col-lg-3" id="paisRemitente"></label> 
                                                    <label class="control-label col-lg-2"> <h5>Telefono: </h5></label>
                                                    <label class="control-label col-lg-3" id="telefonoRemitente"></label>
                                                </div>
                                            </div>
                                            <hr/>
                                            <br />
                                            <!--DATOS BENEFICIARIO -->
                                            <div class="contenedor2">
                                                <div class="fondo-azul">
                                                    <label class="control-label"><h5>DATOS DEL PAGO</h5></label>
                                                </div>
                                                <div class="form-group"> 
                                                    <label class="control-label col-lg-2"> <h5>Monto: </h5></label>
                                                    <label class="control-label col-lg-3" id="montoPago"></label> 
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-lg-2"> <h5>Comision: </h5></label>
                                                    <label class="control-label col-lg-3" id="comisionPago2"></label>
                                                </div>  
                                                <div class="form-group">
                                                    <label class="control-label col-lg-2"> <h5>Total: </h5></label>
                                                    <label class="control-label col-lg-3" id="totalPago"></label>
                                                </div>  
                                                <hr/>
                                                <div class="form-group">
                                                    <label class="control-label col-lg-1"></label>
                                                    <label class="control-label div-azul"> <h5>Datos del Beneficiario</h5></label>
                                                </div> 
                                                <br />
                                                <div class="form-group">
                                                    <label class="control-label col-lg-2"> <h5>Nombre: </h5></label>
                                                    <label class="control-label col-lg-3" id="nombreBeneficario"></label>
                                                    <label class="control-label col-lg-2"> <h5>Apellidos: </h5></label>
                                                    <label class="control-label col-lg-3" id="apellidosBene"></label>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-lg-2"> <h5>Telefono: </h5></label>
                                                    <label class="control-label col-lg-3" id="telefonoBene"></label>
                                                    <label class="control-label col-lg-2"> <h5>Destino: </h5></label>
                                                    <label class="control-label col-lg-3" id="destinoPago"></label>
                                                </div>
                                            </div>
                                            <hr/>

                                            <div class="form-group">
                                                <label class="control-label col-lg-9" ></label> 
                                                <input type="button" value="Atras" class="estilobtn gris" onclick="atrasRemesadoraPaga();">
                                                <input type="button" value="Registrar Envió" class="estilobtn verde" onclick="registrarEnvio();">
                                                <!-- <button id="envio" class="btn btn-success" onclick="registrarEnvio();">Registrar Envió</button>-->
                                            </div>
                                        </div>
                                    </div>





                                </form>
                            </div><!--modal body-->
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>