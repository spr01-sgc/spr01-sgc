/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.soma.transmisor.dao.impl;

import com.soma.transmisor.configuration.Hibernate;
import com.soma.transmisor.dao.HibernateDao;
import com.soma.transmisor.dao.SucursalDao;
import com.soma.transmisor.model.Sucursal;
import java.io.Serializable;
import java.util.List;
import org.hibernate.Criteria;
import org.hibernate.criterion.Restrictions;
import org.springframework.stereotype.Repository;

/**
 *
 * @author JUAN LUIS-SOMA
 */
@Repository("sucursalDao")
public class SucursalDaoImpl extends HibernateDao<Integer, Sucursal> implements SucursalDao{

   @Override
    public void update(Sucursal sucursal) {
        actualizar(sucursal);
        System.out.print(SucursalDaoImpl.class + "Se ha actualizado correctamente la sucursal" + sucursal.toString());
    }

    @Override
    public void save(Sucursal sucursal) {
        guardar(sucursal);
        System.out.println(SucursalDaoImpl.class + "Se ha guardado correctamente la sucursal "+ sucursal.toString());
    }

    @Override
    public void delete(int sucursalid) {
        Criteria cri = creaCriteria();
        cri.add(Restrictions.eq("sucursalid", sucursalid));
        Sucursal sucursal = (Sucursal) cri.uniqueResult();
        eliminar(sucursal);
        System.out.println(SucursalDaoImpl.class + " Se ha elimando correctamente la sucursal "+ sucursal.toString());
    }

    @Override
    public Sucursal buscaId(int sucursalid) {
        Sucursal sucursal = getPorId(sucursalid);
        System.out.println(SucursalDaoImpl.class + " Busacando Sucursal por ID "+ sucursal.toString());
        return sucursal;
    }

    @Override
    public List<Sucursal> showSucursal() {
       //criterias consultas a la base de datso
        Criteria criteria = creaCriteria();
        //indicar que no traiga datos repetidos
        criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);
        //lista los delitos sin repetir algun dato
        List<Sucursal> lSucursal = criteria.list();
        System.out.println("jajajaj");
        return lSucursal;
    }
    
}
